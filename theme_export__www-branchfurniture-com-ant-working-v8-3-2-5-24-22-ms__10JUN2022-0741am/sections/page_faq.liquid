<style>
  #header {border: none !important;}
  #shopify-section-{{ section.id }} {overflow: hidden;}
  .faq-section {padding-bottom: 6em; position: relative;}
  .faq-section a {text-decoration: underline;}
  .faq-section .container-smaller {position: relative;}
  .faq-section .head {padding: 4em 0; padding-right: 8em; position: relative;}
  #shopify-section-{{ section.id }} .faq-section .head:before {content: ''; position: absolute; left: -100vw; width: 200vw; bottom: 0; height: 100vw; background: {{section.settings.bg_color}};}
  .faq-section .head h2 {position: relative;}
  .faq-section .head .text {position: relative; font-size: 1.2em;}
  .faq-section .head .text p:last-child {margin: 0;}
  .faq-section .content h3 {text-transform: uppercase; padding-top: 3em; font-size: 1.2em; letter-spacing: 0.05em; font-weight: 700; {% if settings.body_font_custom != "" %}{{settings.body_font_custom_name}}{% else %}font-family: {{settings.body_font.family}}, {{settings.body_font.fallback_families}};{% endif %} }
  .faq-section .content .wrap {padding-right: 8em;}
  .faq-section .content .question-answer {font-size: 1.1em; border-bottom: 1px solid; padding: 1.2em 0 0.5em;}
  .faq-section .content .question {cursor: pointer; position: relative; font-weight: 500; padding: 0.5em 0; padding-right: 1.5em; width: 100%; text-align: left; font-size: 1.3em; line-height: 150%;}
  .faq-section .content .question i {position: relative; width: 12px; height: 12px; position: absolute; top: 56%; right: 0; -webkit-transform: translateY(-50%); transform: translateY(-50%);}
  .faq-section .content .question i:before {content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 2px; margin-top: -1px; background: {{settings.content_text_color}};}
  .faq-section .content .question i:after {content: ''; position: absolute; left: 50%; top: 0; height: 100%; width: 2px; margin-left: -1px; background: {{settings.content_text_color}}; -webkit-transition: all 0.2s ease-out; -moz-transition: all 0.2s ease-out; -o-transition: all 0.2s ease-out; -ms-transition: all 0.2s ease-out; transition: all 0.2s ease-out;}
  .faq-section .content .question.active i:after {-webkit-transform: rotate(90deg); -moz-transform: rotate(90deg); -ms-transform: rotate(90deg); -o-transform: rotate(90deg); transform: rotate(90deg);}
  .faq-section .content .answer {padding: 0.4em 0 0.7em; line-height: 150%;}
  .faq-section .content .group:not(:first-child) {padding-top: 2em;}
  .faq-section .content .group:first-child h3 {padding-top: 0;}
  #shopify-section-{{ section.id }} .faq-section .right-column .info {padding: 2em; position: relative; max-width: 28em; margin-left: auto; margin-top: -5em; background: {{section.settings.more_background}}; color: {{section.settings.more_color}};}
  .faq-section .right-column img {width: 100%;}
  .faq-section .right-column .info h2 {color: inherit; font-size: 1.8em;}
  .faq-section .right-column .info p {color: inherit;}
  .faq-section .right-column .info p:last-child {margin-bottom: 0;}
  .faq-section .right-column .info img {width: 10%; margin-right: 1em;}
  .faq-section .right-column .info a {text-decoration: none; font-weight: bold;}
  .isNotMobile .faq-section .right-column .info a:hover {color: inherit; text-decoration: underline;}
  
  @media all and (min-width: 900px){
    .faq-section .content .group:first-child {padding-top: 4em;}
    .faq-section .right-column {position: absolute; right: 1.5rem; top: 0; width: 40%; padding-top: 2em;}
  }
  
  @media all and (max-width: 900px){
    .faq-section .head {margin-bottom: 3em; padding: 3em 0;}
    .faq-section .right-column {margin-top: 3em;}
    .faq-section .content .wrap {padding: 0;}
    .faq-section .content .question-answer {font-size: 1em;}
    .faq-section .head .text {font-size: 1.1em;}
    .faq-section .content h3 {font-size: 1.1em;}
  }  
</style>
<section class="faq-section" id="faq">
  <div class="container-smaller">
    <div class="head three-fifths medium-down--one-whole">
      <h2>{{section.settings.title}}</h2>
      {%- if section.settings.text != blank -%}
      	<div class="text">{{section.settings.text}}</div>
      {%- endif -%}
    </div>
    <div class="content three-fifths medium-down--one-whole">
        <div class="wrap">
          {{page.content}}

          {%- comment -%}
            <!--{%- for block in section.blocks -%}
                {%- if block.type == "group_title" -%}
                  {% unless forloop.first %}</div>{% endunless %}
                  <div class="group" id="{{block.settings.title | handleize}}">
                    <h3>{{block.settings.title}}</h3>	
                {%- elsif block.type == "question" -%}
                    <div class="question-answer">
                      <button class="question{% if forloop.index == 2 %} active{% endif %}">{{block.settings.title}}<i></i></button>
                      <div class="answer" {% unless forloop.index == 2 %}style="display: none;"{% endunless %}>{{block.settings.answer}}</div>
                    </div>
                  {% if forloop.last %}</div>{% endif %}
                {%- endif -%}
            {%- endfor -%}-->
          {%- endcomment -%}
        </div>
    </div>
    <div class="right-column">
      <img class="lazyload" alt="" data-sizes="auto" src="{{"placeholder.png" | asset_url}}" data-srcset="{% include 'lazy_src', image: section.settings.image %}" />
      <div class="info">
        <div class="flex align-items-start">
          <img class="lazyload" alt="" data-sizes="auto" src="{{"placeholder.png" | asset_url}}" data-srcset="{% include 'lazy_src', image: section.settings.quation_image %}" />
          <div class="next">
            <h2>{{ section.settings.more_title }}</h2>
            <div class="text">{{ section.settings.more_text }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  $(function(){
    $(document).on('click', '.faq-section .question', function(){
      if($(this).hasClass('active')){
    	$(this).removeClass('active');
    	$(this).parent().find('.answer').slideUp();
      }else{
        $('.faq-section .question').removeClass('active');
        $('.faq-section .answer').slideUp();
    	$(this).addClass('active');
    	$(this).parent().find('.answer').slideDown();
      }
    });
    $(document).on('keydown', '.faq-section .question:focus', function(e){
      if (e.which == 13) { //Enter
        $(this).click();
      }
    });
  });
</script>

{% schema %}
  {
    "name": "FAQ",
    "presets": [
      {
        "name": "FAQ",
        "category": "Page"
      }
    ],
    "settings": [
          {
            "type": "color",
            "id": "bg_color",
            "label": "Head Background Color",
            "default": "#f3eeea"
          },
          {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "FAQs"
          },
		  {
            "type": "richtext",
            "id": "text",
            "label": "Text",
			"default": "<p><strong>Need help?</strong> We're available to answer your questions over email, on the phone, or on live chat between 9am-6pm ET.</p>"
          },
		  {
            "type": "header",
            "content": "More Questions?"
          },
          {
            "type": "color",
            "id": "more_background",
            "label": "Background Color",
            "default": "#314438"
          },
          {
            "type": "color",
            "id": "more_color",
            "label": "Text Color",
            "default": "#f3eeea"
          },
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "text",
            "id": "more_title",
            "label": "Title",
            "default": "Have more questions?"
          },
		  {
            "type": "richtext",
            "id": "more_text",
            "label": "Text",
			"default": "<p>Say hello on live chat, or drop us a line at hello@branchfurniture.com, and we'll get back to you as soon as possible.</p>"
          },
          {
            "type": "image_picker",
            "id": "quation_image",
            "label": "Question Mark"
          }
    ]
  }
{% endschema %}
